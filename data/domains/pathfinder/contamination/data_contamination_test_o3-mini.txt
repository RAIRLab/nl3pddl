(define (domain pathfinder)
    
    ; Honkai Star Rail Pathfinder Domain
    
    (:requirements :strips :typing)
    
    (:types 
        location 
        direction - object)
    
    (:predicates
        ; Indicates that the rail (or track) plate at a given location is set to a specific direction.
        (plate ?loc - location ?dir - direction)
        
        ; Specifies that the agent (e.g., the train) is currently at a given location.
        (at ?loc - location)
        
        ; Connects two locations via a rail oriented in a particular direction.
        (path ?from - location ?to - location ?dir - direction))
    
    
    ; Action: move
    ; The agent moves from its current location to an adjacent location via a rail if the plate 
    ; at the current location is set to the direction that leads to the adjacent location.
    (:action move
        :parameters (?from ?to - location ?dir - direction)
        :precondition (and 
                         (at ?from)
                         (plate ?from ?dir)
                         (path ?from ?to ?dir))
        :effect (and 
                  (not (at ?from))
                  (at ?to))))
    
    
    ; Action: switch-rail
    ; At a location with a rail plate currently set to one direction, the agent (or operator)
    ; can change the plate to point to a new direction. This is used to reconfigure the rail network.
    (:action switch-rail
        :parameters (?loc - location ?old - direction ?new - direction)
        :precondition (plate ?loc ?old)
        :effect (and 
                  (not (plate ?loc ?old))
                  (plate ?loc ?new))))
    
)